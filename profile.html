<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>github_profile_viewer</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main">
        <div class="head">
            <div class="left">
                <div id="logo1"></div>
            </div>
            <div class="right">
                <div id="logo2"></div>
                <div id="logo3"></div>
                <div id="logo4"></div>
            </div>
        </div>
        <hr style="background-color: white; height: 2px; width: auto; margin-top:2px;">

        <div class="profile">
            <div class="image" id="image"></div>
            <div class="box2"></div>
            <div class="box3">
                <span class="name" id="name">xxxxx</span>
                <span class="username" id="username">xxxx</span>
            </div>
            <div class="box4">
                <span class="followers">followers</span>
                <span class="following">following</span>
            </div>
            <div class="box5">
                <span id="no_fowers">0</span>
                <span id="no_fowing">0</span>
            </div>
            <span class="bio_head" style="color: wheat;">Bio ::</span><br>
            <div class="box6">
                <span class="bio" id="bio"></span>
            </div>
        </div>
        <hr class="hr2">
        <div class="repo">
            <div class="repo_head">
                <table>
                    <tr>
                        <td class="sn">s.n</td>
                        <td class="repo_title">Repositary Title</td>
                        <td class="ssh">ssh</td>
                        <td class="download">download</td>
                    </tr>
                </table>
            </div>
            <div class="repo_containt">
                <div>
                    <span>111</span>
                    <span>repo title</span>
                    <span><a href=""><img src="link.png" alt=""></a></span>
                    <span><a><img src="down.png" alt=""></a></span>
                </div>


            </div>
        </div>

    </div>
</body>
<script>
    const linkData = window.location.search;
    const newData = new URLSearchParams(linkData);
    
    const gitHubId = newData.get('git_uid');
    
    const reqUrl = 'https://api.github.com/users/' + gitHubId;
    let xhr = new XMLHttpRequest();
    xhr.open('GET', reqUrl);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            const data = JSON.parse(this.responseText);
            let nameInData = data.name;
            let usernameInData = data.login;
            let userImage = data.avatar_url;
            let userBio = data.bio;
            let userFollowers = data.followers;
            let userFollowing = data.following;



            function addName() {
                const nameOfUser = document.getElementById('name');
                const username = document.getElementById('username');
                nameOfUser.innerText = nameInData;
                username.innerText = `@${usernameInData}`;

            }
            addName();

            function addBio() {
                const bio = document.getElementById('bio');
                bio.innerText = `${userBio}`;

            }
            addBio()

            function addImage() {
                const profileImg = document.getElementById('image');
                profileImg.style.backgroundImage = `url(${userImage})`;
            }
            addImage();

            function addFollowers() {
                const followers = document.getElementById('no_fowers');
                followers.innerHTML = userFollowers;

            }
            addFollowers()

            function addFollowing() {
                const following = document.getElementById('no_fowing');
                following.innerHTML = userFollowing;

            }
            addFollowing()
        }


    }
    xhr.send();

</script>
</html>